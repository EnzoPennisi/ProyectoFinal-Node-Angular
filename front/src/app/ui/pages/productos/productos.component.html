<main class="container">
  <div class="header">
    <h2>{{ this.category.nombre }}</h2>
    <button class="createButton" (click)="navigateForm()">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        class="lucide lucide-plus w-5 h-5 mr-2"
      >
        <path d="M5 12h14"></path>
        <path d="M12 5v14"></path>
      </svg>
      {{ globalText.products.crearProducto }}
    </button>
  </div>

  <div class="products-grid">
    <div *ngFor="let product of products" class="product-card">
      <div class="image-container">
        <img
          [src]="product.url_img"
          [alt]="product.nombre"
          class="product-image"
        />
      </div>
      <div class="product-info">
        <h3>{{ product.nombre }}</h3>
        <p>{{ globalText.products.vence }} {{ product.fecha_vencimiento }}</p>
        <p>{{ globalText.products.stock }} {{ product.stock }}</p>
        <p>{{ globalText.products.precio }} ${{ product.precio.toFixed(2) }}</p>
        <p>
          <b>{{ globalText.products.categoria }} {{ this.category.nombre }}</b>
        </p>
        <div class="action-buttons">
          <button class="editButton" (click)="navigateForm(product)">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-pencil w-4 h-4 mr-2"
            >
              <path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"></path>
              <path d="m15 5 4 4"></path>
            </svg>
            {{ globalText.products.editar }}
          </button>
          <button class="deleteButton" (click)="deleteProduct(product.id)">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-trash2 w-4 h-4 mr-2"
            >
              <path d="M3 6h18"></path>
              <path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"></path>
              <path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"></path>
              <line x1="10" x2="10" y1="11" y2="17"></line>
              <line x1="14" x2="14" y1="11" y2="17"></line>
            </svg>
            {{ globalText.products.eliminar }}
          </button>
        </div>
      </div>
    </div>
  </div>
</main>
